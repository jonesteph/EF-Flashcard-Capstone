{"ast":null,"code":"var _jsxFileName = \"/Users/sjones/Documents/EF/Github/EF-Flashcard-Capstone/src/Layout/Decks/AddCard.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { createCard } from \"../../utils/api\";\nimport NavBar from \"../NavBar\";\nimport { readDeck } from \"../../utils/api\";\nimport CardForm from \"./CardForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddCard() {\n  _s();\n\n  const [currentDeck, setCurrentDeck] = useState({});\n  const [currentForm, setCurrentForm] = useState({});\n  const {\n    deckId\n  } = useParams();\n  const history = useHistory();\n\n  const handleAddCard = async event => {\n    event.preventDefault();\n    await createCard(deckId, currentForm);\n    setCurrentForm({});\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    setCurrentDeck([]);\n    const abortController = new AbortController();\n\n    async function loadCurrentDeck() {\n      try {\n        const response = await readDeck(deckId, abortController.signal);\n        setCurrentDeck(response);\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          console.log(\"Aborted\");\n        } else {\n          throw error;\n        }\n      }\n    }\n\n    loadCurrentDeck();\n    return () => abortController.abort();\n  }, [deckId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      currentPage: \"Create Card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: currentDeck.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardForm, {\n      onSubmit: handleAddCard,\n      onCancel: () => history.push(`decks/${currentDeck.id}`),\n      currentForm: currentForm,\n      setCurrentForm: setCurrentForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddCard, \"ZruVYoq2v1iizUXInIhq51PBCy8=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = AddCard;\nexport default AddCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddCard\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","useParams","createCard","NavBar","readDeck","CardForm","AddCard","currentDeck","setCurrentDeck","currentForm","setCurrentForm","deckId","history","handleAddCard","event","preventDefault","window","location","reload","abortController","AbortController","loadCurrentDeck","response","signal","error","name","console","log","abort","push","id"],"sources":["/Users/sjones/Documents/EF/Github/EF-Flashcard-Capstone/src/Layout/Decks/AddCard.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { createCard } from \"../../utils/api\"\nimport NavBar from \"../NavBar\"\nimport { readDeck } from \"../../utils/api\"\nimport CardForm from \"./CardForm\"\n\nfunction AddCard(){\n    const [ currentDeck, setCurrentDeck ] = useState({})\n    const [ currentForm, setCurrentForm ] = useState({})\n    const { deckId } = useParams()\n    const history = useHistory()\n\n    const handleAddCard = async (event) => {\n        event.preventDefault()\n        await createCard(deckId, currentForm)\n        setCurrentForm({})\n        window.location.reload()\n      }\n    \n\n    useEffect(() => {\n        setCurrentDeck([])\n        const abortController = new AbortController()\n    \n        async function loadCurrentDeck() {\n          try {\n            const response = await readDeck(deckId, abortController.signal)\n            setCurrentDeck(response)\n          } catch (error) {\n            if (error.name === \"AbortError\") {\n              console.log(\"Aborted\")\n            } else {\n              throw error\n            }\n          }\n        }\n    \n        loadCurrentDeck();\n    \n        return () => abortController.abort()\n      }, [deckId])       \n\n\n    return(\n        <div>\n            <NavBar currentPage=\"Create Card\" />\n            <h2>{currentDeck.name}</h2>\n            <CardForm onSubmit={handleAddCard} onCancel={() => history.push(`decks/${currentDeck.id}`)} currentForm={currentForm} setCurrentForm={setCurrentForm}/>\n        </div>\n    )\n}\n\n\nexport default AddCard"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AAEA,SAASC,OAAT,GAAkB;EAAA;;EACd,MAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCT,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAAEU,WAAF,EAAeC,cAAf,IAAkCX,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM;IAAEY;EAAF,IAAaV,SAAS,EAA5B;EACA,MAAMW,OAAO,GAAGZ,UAAU,EAA1B;;EAEA,MAAMa,aAAa,GAAG,MAAOC,KAAP,IAAiB;IACnCA,KAAK,CAACC,cAAN;IACA,MAAMb,UAAU,CAACS,MAAD,EAASF,WAAT,CAAhB;IACAC,cAAc,CAAC,EAAD,CAAd;IACAM,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACD,CALH;;EAQApB,SAAS,CAAC,MAAM;IACZU,cAAc,CAAC,EAAD,CAAd;IACA,MAAMW,eAAe,GAAG,IAAIC,eAAJ,EAAxB;;IAEA,eAAeC,eAAf,GAAiC;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMlB,QAAQ,CAACO,MAAD,EAASQ,eAAe,CAACI,MAAzB,CAA/B;QACAf,cAAc,CAACc,QAAD,CAAd;MACD,CAHD,CAGE,OAAOE,KAAP,EAAc;QACd,IAAIA,KAAK,CAACC,IAAN,KAAe,YAAnB,EAAiC;UAC/BC,OAAO,CAACC,GAAR,CAAY,SAAZ;QACD,CAFD,MAEO;UACL,MAAMH,KAAN;QACD;MACF;IACF;;IAEDH,eAAe;IAEf,OAAO,MAAMF,eAAe,CAACS,KAAhB,EAAb;EACD,CApBM,EAoBJ,CAACjB,MAAD,CApBI,CAAT;EAuBA,oBACI;IAAA,wBACI,QAAC,MAAD;MAAQ,WAAW,EAAC;IAApB;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA,UAAKJ,WAAW,CAACkB;IAAjB;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI,QAAC,QAAD;MAAU,QAAQ,EAAEZ,aAApB;MAAmC,QAAQ,EAAE,MAAMD,OAAO,CAACiB,IAAR,CAAc,SAAQtB,WAAW,CAACuB,EAAG,EAArC,CAAnD;MAA4F,WAAW,EAAErB,WAAzG;MAAsH,cAAc,EAAEC;IAAtI;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH;;GA5CQJ,O;UAGcL,S,EACHD,U;;;KAJXM,O;AA+CT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}