{"ast":null,"code":"var _jsxFileName = \"/Users/sjones/Documents/EF/Github/EF-Flashcard-Capstone/src/Layout/Decks/ViewDeck.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { deleteCard, deleteDeck, readDeck } from \"../../utils/api\";\nimport NavBar from \"../NavBar\";\nimport EditCard from \"./EditCard\";\nimport Card from \"./Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewDeck() {\n  _s();\n\n  const {\n    deckId\n  } = useParams();\n  const [currentDeck, setCurrentDeck] = useState({});\n  const [currentCards, setCurrentCards] = useState({});\n\n  const handleDeletedCard = id => {\n    if (window.confirm(\"Delete this card? You will not be able to recover it.\")) {\n      deleteCard(id);\n      window.location.reload();\n    }\n  };\n\n  useEffect(() => {\n    async function loadDeck() {\n      try {\n        const response = await readDeck(deckId);\n        setCurrentDeck(response);\n        setCurrentCards(response.cards);\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          console.log(\"Aborted\");\n        } else {\n          throw error;\n        }\n      }\n    }\n\n    loadDeck();\n  }, [deckId]);\n  console.log(\"deck is \", currentDeck);\n\n  const handleDeletedDeck = id => {\n    if (window.confirm(\"Delete this deck? You will not be able to recover it.\")) {\n      deleteDeck(id);\n      window.location.reload();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: currentDeck && currentDeck.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        subLink: `/decks/${deckId}`,\n        subLinkName: `Deck ${currentDeck.name}`,\n        currentPage: \"View Deck\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: currentDeck.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: currentDeck.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deckId}/edit`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deckId}/study`,\n          children: \"Study\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deckId}/cards/new`,\n          children: \"Add Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeletedDeck,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), currentCards.map((eachCard, index) => /*#__PURE__*/_jsxDEV(Card, {\n        card: eachCard,\n        handleDeletedDeck: () => handleDeletedCard()\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewDeck, \"JT8WtNuXAgHy18dbg4e4FzDdEm0=\", false, function () {\n  return [useParams];\n});\n\n_c = ViewDeck;\nexport default ViewDeck;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewDeck\");","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","deleteCard","deleteDeck","readDeck","NavBar","EditCard","Card","ViewDeck","deckId","currentDeck","setCurrentDeck","currentCards","setCurrentCards","handleDeletedCard","id","window","confirm","location","reload","loadDeck","response","cards","error","name","console","log","handleDeletedDeck","description","map","eachCard","index"],"sources":["/Users/sjones/Documents/EF/Github/EF-Flashcard-Capstone/src/Layout/Decks/ViewDeck.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport { deleteCard, deleteDeck, readDeck } from \"../../utils/api\"\nimport NavBar from \"../NavBar\"\nimport EditCard from \"./EditCard\"\nimport Card from \"./Card\"\n\nfunction ViewDeck() {\n  const { deckId } = useParams()\n  const [currentDeck, setCurrentDeck] = useState({})\n  const [currentCards, setCurrentCards] = useState({})\n\n  const handleDeletedCard = (id) => {\n    if (\n      window.confirm(\"Delete this card? You will not be able to recover it.\")\n    ) {\n      deleteCard(id)\n      window.location.reload()\n    }\n  };\n\n  useEffect(() => {\n    async function loadDeck() {\n      try {\n        const response = await readDeck(deckId);\n        setCurrentDeck(response);\n        setCurrentCards(response.cards);\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          console.log(\"Aborted\");\n        } else {\n          throw error;\n        }\n      }\n    }\n    loadDeck()\n  }, [deckId])\n  console.log(\"deck is \", currentDeck);\n  const handleDeletedDeck = (id) => {\n    if (\n      window.confirm(\"Delete this deck? You will not be able to recover it.\")\n    ) {\n      deleteDeck(id)\n      window.location.reload()\n    }\n  };\n\n  return (\n    <div>\n      {currentDeck && currentDeck.id ? (\n        <div>\n          <NavBar\n            subLink={`/decks/${deckId}`}\n            subLinkName={`Deck ${currentDeck.name}`}\n            currentPage=\"View Deck\"\n          />\n          <h2>{currentDeck.name}</h2>\n          <p>{currentDeck.description}</p>\n          <div className=\"d-flex\">\n            <Link to={`/decks/${deckId}/edit`}>Edit</Link>\n            <Link to={`/decks/${deckId}/study`}>Study</Link>\n            <Link to={`/decks/${deckId}/cards/new`}>Add Card</Link>\n            <button onClick={handleDeletedDeck}>Delete</button>\n          </div>\n\n          {currentCards.map((eachCard, index) => (\n            <Card\n              card={eachCard}\n              key={index}\n              handleDeletedDeck={() => handleDeletedCard()}\n            />\n          ))}\n        </div>\n      ) : (\n        <div>Loading</div>\n      )}\n    </div>\n  )\n}\n\nexport default ViewDeck\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}